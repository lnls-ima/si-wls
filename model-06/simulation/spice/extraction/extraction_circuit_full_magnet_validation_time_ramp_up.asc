Version 4
SHEET 1 1976 1544
WIRE 560 -480 336 -480
WIRE 560 -448 560 -480
WIRE 800 -448 560 -448
WIRE 832 -448 800 -448
WIRE 560 -416 560 -448
WIRE 560 -320 560 -336
WIRE 800 -320 560 -320
WIRE 832 -320 800 -320
WIRE -16 -304 -48 -304
WIRE -96 -288 -96 -320
WIRE -48 -288 -48 -304
WIRE -16 -288 -16 -304
WIRE -112 -240 -288 -240
WIRE 160 -240 -32 -240
WIRE 800 -240 560 -240
WIRE 832 -240 800 -240
WIRE 560 -176 560 -240
WIRE 560 -80 560 -96
WIRE 800 -80 560 -80
WIRE 832 -80 800 -80
WIRE -624 -48 -768 -48
WIRE -368 -48 -624 -48
WIRE -288 -48 -288 -240
WIRE -288 -48 -368 -48
WIRE -208 -48 -288 -48
WIRE -64 -48 -128 -48
WIRE 0 -48 -64 -48
WIRE 160 -48 160 -240
WIRE 160 -48 80 -48
WIRE 336 -48 336 -480
WIRE 336 -48 160 -48
WIRE 800 0 560 0
WIRE 832 0 800 0
WIRE -64 16 -64 -48
WIRE -624 64 -624 -48
WIRE 560 64 560 0
WIRE 336 144 288 144
WIRE 384 144 336 144
WIRE -768 160 -768 -48
WIRE 560 160 560 144
WIRE 800 160 560 160
WIRE 832 160 800 160
WIRE -816 176 -864 176
WIRE -368 176 -368 -48
WIRE 288 176 288 144
WIRE 384 176 384 144
WIRE -816 224 -848 224
WIRE -624 224 -624 128
WIRE 800 240 560 240
WIRE 832 240 800 240
WIRE -848 256 -848 224
WIRE 288 272 288 256
WIRE 336 272 288 272
WIRE 384 272 384 256
WIRE 384 272 336 272
WIRE 336 288 336 272
WIRE 560 304 560 240
WIRE 560 400 560 384
WIRE 800 400 560 400
WIRE 832 400 800 400
WIRE -768 448 -768 240
WIRE -624 448 -624 304
WIRE -624 448 -768 448
WIRE -368 448 -368 240
WIRE -368 448 -624 448
WIRE 336 448 -368 448
WIRE 800 480 560 480
WIRE 832 480 800 480
WIRE 560 544 560 480
WIRE -752 640 -800 640
WIRE 560 640 560 624
WIRE 800 640 560 640
WIRE 832 640 800 640
WIRE -608 656 -688 656
WIRE -512 656 -608 656
WIRE -304 656 -416 656
WIRE -192 656 -304 656
WIRE -128 656 -192 656
WIRE 32 656 -32 656
WIRE -752 672 -800 672
WIRE 800 720 560 720
WIRE 832 720 800 720
WIRE 560 784 560 720
WIRE -720 832 -736 832
WIRE -736 848 -736 832
WIRE -192 880 -192 656
WIRE -128 880 -192 880
WIRE 32 880 -32 880
WIRE 560 880 560 864
WIRE 800 880 560 880
WIRE 832 880 800 880
WIRE -736 944 -736 928
WIRE 560 992 560 960
WIRE 800 992 560 992
WIRE 832 992 800 992
WIRE 336 1024 336 448
WIRE 560 1024 560 992
WIRE 560 1024 336 1024
FLAG 336 288 0
FLAG 336 144 Rquench
FLAG 32 656 PSdelay
FLAG 32 880 SWdelay
FLAG -16 -288 0
FLAG -96 -320 SWdelay
FLAG -304 656 Qtrigger
FLAG -64 16 0
FLAG -800 640 Vdetp
FLAG -800 672 Vdetn
FLAG -736 944 0
FLAG -736 832 Vthres
FLAG 336 -480 Vmagnetp
FLAG 336 1024 Vmagnetn
FLAG -624 -48 Vpsoutp
FLAG -608 656 Qdet
FLAG -864 176 PSdelay
FLAG -848 256 0
FLAG 832 -448 VT1
IOPIN 832 -448 BiDir
FLAG 832 -80 VR2-3
IOPIN 832 -80 BiDir
FLAG 832 0 VT3
IOPIN 832 0 BiDir
FLAG 832 160 VR3-4
IOPIN 832 160 BiDir
FLAG 832 240 VT4
IOPIN 832 240 BiDir
FLAG 832 400 VR4-5
IOPIN 832 400 BiDir
FLAG 832 480 VT5
IOPIN 832 480 BiDir
FLAG 832 640 VR5-6
IOPIN 832 640 BiDir
FLAG 832 720 VT6
IOPIN 832 720 BiDir
FLAG 832 880 VR6-7
IOPIN 832 880 BiDir
FLAG 832 992 VT7
IOPIN 832 992 BiDir
FLAG 832 -240 VT2
IOPIN 832 -240 BiDir
FLAG 832 -320 VR1-2
IOPIN 832 -320 BiDir
FLAG 800 -448 VT1
FLAG 800 -320 VR1-2
FLAG 800 -240 VT2
FLAG 800 -80 VR2-3
FLAG 800 0 VT3
FLAG 800 160 VR3-4
FLAG 800 240 VT4
FLAG 800 400 VR4-5
FLAG 800 480 VT5
FLAG 800 640 VR5-6
FLAG 800 720 VT6
FLAG 800 880 VR6-7
FLAG 800 992 VT7
SYMBOL res -224 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rdump1
SYMATTR Value 1.25
SYMBOL sw -16 -240 R90
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL voltage 288 160 R0
WINDOW 0 -160 43 Left 2
WINDOW 3 -409 74 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VRquench
SYMATTR Value PULSE(1u 20m 10m 150m 1 5)
SYMBOL Digital\\diffschmtbuf -752 592 R0
WINDOW 0 27 104 Left 2
SYMATTR InstName A1
SYMATTR SpiceLine Vt=100m, Vh=1m, Vhigh=1, Vlow=0, Trise=1n, Tfall=1n
SYMBOL res -16 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rdump2
SYMATTR Value 1.25
SYMBOL diode -352 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value Dideal
SYMBOL Digital\\srflop -80 608 R0
WINDOW 0 -47 148 Left 2
WINDOW 39 -45 -4 Left 2
SYMATTR InstName A2
SYMATTR SpiceLine Vhigh=1, Td=50m
SYMBOL Digital\\srflop -80 832 R0
WINDOW 0 -47 -4 Left 2
WINDOW 39 -47 149 Left 2
SYMATTR InstName A5
SYMATTR SpiceLine Vhigh=1, Td=1m
SYMBOL voltage -736 832 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.1
SYMBOL voltage -624 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL diode -640 64 R0
SYMATTR InstName D2
SYMATTR Value Dlim
SYMBOL current 384 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName IRq
SYMATTR Value 1
SYMBOL Digital\\srflop -464 608 R0
WINDOW 0 -19 2 Left 2
WINDOW 39 -134 148 Left 2
SYMATTR InstName A3
SYMATTR SpiceLine Vhigh=1, Td=33.3333m
SYMBOL current -768 240 R180
WINDOW 0 -58 77 Left 2
WINDOW 3 -10 0 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PULSE(0 240 0 300 0 10)
SYMBOL ind 544 48 R0
WINDOW 0 71 36 Left 2
WINDOW 3 67 76 Left 2
SYMATTR InstName L_upper_main
SYMATTR Value {Lmain}
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL ind 544 288 R0
WINDOW 0 81 36 Left 2
WINDOW 3 79 76 Left 2
SYMATTR InstName L_lower_main
SYMATTR Value {Lmain}
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL res 544 144 R0
WINDOW 0 71 44 Left 2
WINDOW 3 74 71 Left 2
SYMATTR InstName R_upper_main
SYMATTR Value 0
SYMBOL ind2 544 -432 R0
WINDOW 0 65 42 Left 2
WINDOW 3 65 78 Left 2
SYMATTR InstName L_upper_left
SYMATTR Value {Lside}
SYMATTR Type ind
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL ind 544 -192 R0
WINDOW 0 69 38 Left 2
WINDOW 3 69 78 Left 2
SYMATTR InstName L_lower_left
SYMATTR Value {Lside}
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL ind 544 528 R0
WINDOW 0 84 34 Left 2
WINDOW 3 78 80 Left 2
SYMATTR InstName L_upper_right
SYMATTR Value {Lside}
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL ind 544 768 R0
WINDOW 0 80 40 Left 2
WINDOW 3 80 80 Left 2
SYMATTR InstName L_lower_right
SYMATTR Value {Lside}
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL res 544 -96 R0
WINDOW 0 70 34 Left 2
WINDOW 3 72 68 Left 2
SYMATTR InstName R_lower_left
SYMATTR Value 0
SYMBOL res 544 -336 R0
WINDOW 0 67 44 Left 2
WINDOW 3 69 74 Left 2
SYMATTR InstName R_upper_left
SYMATTR Value 0
SYMBOL res 544 384 R0
WINDOW 0 78 42 Left 2
WINDOW 3 78 76 Left 2
SYMATTR InstName R_lower_main
SYMATTR Value 0
SYMBOL res 544 624 R0
WINDOW 0 84 34 Left 2
WINDOW 3 86 74 Left 2
SYMATTR InstName R_upper_right
SYMATTR Value 0
SYMBOL res 544 864 R0
WINDOW 0 84 38 Left 2
WINDOW 3 90 68 Left 2
SYMATTR InstName R_lower_right
SYMATTR Value 0
TEXT -880 -280 Left 2 !.tran 310
TEXT -880 -312 Left 2 !.ic I(L1)=240 I(L2)=240
TEXT -880 -408 Left 2 !.model MYSW SW(Vt=0.9, Vh=1u, Ron=1000G, Roff=1u)
TEXT -880 -376 Left 2 !.model Dideal D(Ron=1u, Roff=1000G, Vfwd=1)
TEXT -880 -344 Left 2 !.model Dlim D(Ron=1u, Roff=1000G, Vfwd=0)
TEXT -536 208 VCenter 2 ;Limit output\nvoltage to 10V
TEXT -24 536 Center 2 ;Power-supply\nactuation delay
TEXT -16 1016 Center 2 ;Extraction switch\nactuation delay
TEXT 344 336 Center 2 ;Normal-zone\nresistance growth
TEXT -208 -272 Center 2 ;Extraction switch
TEXT -456 536 Center 2 ;Validation\ntime
TEXT -664 536 Center 2 ;Imbalance\ndetection
TEXT -856 96 Center 2 ;PS turn-off\ncircuit
TEXT 600 -536 Left 2 !.param Lside = 12.3m\n.param Lmain = 30.4m
RECTANGLE Normal 592 -224 528 -432 2
RECTANGLE Normal 592 16 528 -192 2
RECTANGLE Normal 592 256 528 48 2
RECTANGLE Normal 592 496 528 288 2
RECTANGLE Normal 592 736 528 528 2
RECTANGLE Normal 592 976 528 768 2
