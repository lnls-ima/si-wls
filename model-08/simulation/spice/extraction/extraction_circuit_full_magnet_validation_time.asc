Version 4
SHEET 1 2048 1544
WIRE 544 -592 400 -592
WIRE 544 -560 544 -592
WIRE 400 -528 400 -592
WIRE -160 -512 -176 -512
WIRE 544 -512 544 -560
WIRE -64 -480 -112 -480
WIRE -160 -464 -160 -512
WIRE -112 -464 -112 -480
WIRE -64 -464 -64 -480
WIRE 544 -416 544 -432
WIRE 816 -416 544 -416
WIRE -176 -384 -176 -416
WIRE 816 -336 544 -336
WIRE 192 -304 160 -304
WIRE -176 -288 -176 -304
WIRE 112 -288 112 -320
WIRE 160 -288 160 -304
WIRE 192 -288 192 -304
WIRE 544 -288 544 -336
WIRE -256 -240 -384 -240
WIRE -96 -240 -96 -416
WIRE -96 -240 -160 -240
WIRE -64 -240 -96 -240
WIRE 96 -240 -64 -240
WIRE 304 -240 176 -240
WIRE 544 -240 544 -288
WIRE 544 -144 544 -160
WIRE 816 -144 544 -144
WIRE 816 -64 544 -64
WIRE -624 -48 -768 -48
WIRE -544 -48 -624 -48
WIRE -480 -48 -544 -48
WIRE -384 -48 -384 -240
WIRE -384 -48 -480 -48
WIRE -224 -48 -384 -48
WIRE -32 -48 -144 -48
WIRE 96 -48 -32 -48
WIRE 304 -48 304 -240
WIRE 304 -48 176 -48
WIRE 400 -48 400 -528
WIRE 400 -48 304 -48
WIRE 544 -16 544 -64
WIRE -32 16 -32 -48
WIRE 544 32 544 -16
WIRE -624 64 -624 -48
WIRE 320 112 272 112
WIRE 368 112 320 112
WIRE 544 128 544 112
WIRE 816 128 544 128
WIRE 272 144 272 112
WIRE 368 144 368 112
WIRE -768 160 -768 -48
WIRE -816 176 -832 176
WIRE -480 176 -480 -48
WIRE 816 208 544 208
WIRE -816 224 -848 224
WIRE -624 224 -624 128
WIRE 272 240 272 224
WIRE 320 240 272 240
WIRE 368 240 368 224
WIRE 368 240 320 240
WIRE -848 256 -848 224
WIRE 320 256 320 240
WIRE 544 256 544 208
WIRE 544 304 544 256
WIRE 544 400 544 384
WIRE 816 400 544 400
WIRE -768 448 -768 240
WIRE -624 448 -624 304
WIRE -624 448 -768 448
WIRE -480 448 -480 240
WIRE -480 448 -624 448
WIRE 400 448 -480 448
WIRE 816 480 544 480
WIRE 544 528 544 480
WIRE -256 576 -352 576
WIRE -96 576 -160 576
WIRE 544 576 544 528
WIRE 544 672 544 656
WIRE 816 672 544 672
WIRE -800 736 -848 736
WIRE -672 752 -736 752
WIRE -608 752 -672 752
WIRE -432 752 -512 752
WIRE -352 752 -352 576
WIRE -352 752 -432 752
WIRE -256 752 -352 752
WIRE -96 752 -160 752
WIRE 816 752 544 752
WIRE -800 768 -848 768
WIRE 544 800 544 752
WIRE 400 848 400 448
WIRE 544 848 544 800
WIRE -768 896 -784 896
WIRE -784 928 -784 896
WIRE -352 928 -352 752
WIRE -256 928 -352 928
WIRE -96 928 -160 928
WIRE 544 944 544 928
WIRE 816 944 544 944
WIRE 816 1024 544 1024
WIRE 544 1072 544 1024
WIRE 400 1104 400 848
WIRE 544 1104 544 1072
WIRE 544 1104 400 1104
FLAG 320 256 0
FLAG 320 112 Rquench
FLAG -96 576 PSdelay
FLAG -96 928 SWdelay
FLAG 192 -288 0
FLAG 112 -320 SWdelay
FLAG -432 752 Qtrigger
FLAG -32 16 0
FLAG -848 736 Vdetp
FLAG -848 768 Vdetn
FLAG -784 1008 0
FLAG -784 896 Vthres
FLAG 400 -528 Vmagnetp
FLAG 400 848 Vmagnetn
FLAG -544 -48 Vpsoutp
FLAG -672 752 Qdet
FLAG -832 176 PSdelay
FLAG -848 256 0
FLAG 816 -416 Vdetp
FLAG 816 -336 Vdetn
FLAG 544 -288 VT2
FLAG 544 -16 VT3
FLAG 544 256 VT4
FLAG 544 528 VT5
FLAG 544 800 VT6
FLAG 544 -560 VT1
FLAG 544 1072 VT7
FLAG -96 752 IGBTdriver
FLAG -64 -464 0
FLAG -176 -512 IGBTdriver
FLAG -64 -240 VE1
SYMBOL ind 528 16 R0
WINDOW 0 71 36 Left 2
WINDOW 3 67 76 Left 2
SYMATTR InstName L_upper_main
SYMATTR Value 34m
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL res -240 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rdump1
SYMATTR Value 1.25
SYMBOL sw 192 -240 R90
WINDOW 0 47 -4 VRight 2
WINDOW 3 -22 90 VRight 2
SYMATTR InstName Contactor
SYMATTR Value MYSW
SYMBOL ind 528 288 R0
WINDOW 0 81 36 Left 2
WINDOW 3 79 76 Left 2
SYMATTR InstName L_lower_main
SYMATTR Value 34m
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL res 528 112 R0
WINDOW 0 71 44 Left 2
WINDOW 3 67 71 Left 2
SYMATTR InstName R_upper_main
SYMATTR Value 0
SYMBOL voltage 272 128 R0
WINDOW 0 -152 41 Left 2
WINDOW 3 -393 72 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VRquench
SYMATTR Value PULSE(1u 20m 10m 150m 1 5)
SYMBOL Digital\\diffschmtbuf -800 688 R0
WINDOW 0 27 104 Invisible 2
SYMATTR InstName A1
SYMATTR SpiceLine Vt=100m, Vh=1m, Vhigh=1, Vlow=0, Trise=1n, Tfall=1n
SYMBOL res 80 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Rdump2
SYMATTR Value 1.25
SYMBOL diode -464 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName Dfw
SYMATTR Value Dideal
SYMBOL Digital\\srflop -208 528 R0
WINDOW 0 -47 148 Invisible 2
WINDOW 39 -100 147 Left 2
SYMATTR InstName A2
SYMATTR SpiceLine Vhigh=1, Td=50m
SYMBOL Digital\\srflop -208 880 R0
WINDOW 0 -47 -4 Invisible 2
WINDOW 39 -99 149 Left 2
SYMATTR InstName A5
SYMATTR SpiceLine Vhigh=1, Td=40m
SYMBOL voltage -784 912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.1
SYMBOL voltage -624 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL diode -640 64 R0
SYMATTR InstName D2
SYMATTR Value Dlim
SYMBOL current 368 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName IRq
SYMATTR Value 1
SYMBOL Digital\\srflop -560 704 R0
WINDOW 0 -47 148 Invisible 2
WINDOW 39 -106 150 Left 2
SYMATTR InstName A3
SYMATTR SpiceLine Vhigh=1, Td=33.33333m
SYMBOL ind2 528 -528 R0
WINDOW 0 65 42 Left 2
WINDOW 3 65 78 Left 2
SYMATTR InstName L_upper_left
SYMATTR Value 14m
SYMATTR Type ind
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL ind 528 -256 R0
WINDOW 0 69 38 Left 2
WINDOW 3 69 78 Left 2
SYMATTR InstName L_lower_left
SYMATTR Value 14m
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL ind 528 560 R0
WINDOW 0 84 34 Left 2
WINDOW 3 78 80 Left 2
SYMATTR InstName L_upper_right
SYMATTR Value 14m
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL ind 528 832 R0
WINDOW 0 80 40 Left 2
WINDOW 3 80 80 Left 2
SYMATTR InstName L_lower_right
SYMATTR Value 14m
SYMATTR SpiceLine Rser=0 Rpar=0
SYMBOL g -768 144 R0
WINDOW 3 24 96 Invisible 2
WINDOW 0 -46 109 Left 2
SYMATTR Value table(0V 228A, 1nV 0A)
SYMATTR InstName G1
SYMBOL res 528 -160 R0
WINDOW 0 70 34 Left 2
WINDOW 3 72 68 Left 2
SYMATTR InstName R_lower_left
SYMATTR Value 0
SYMBOL res 528 -432 R0
WINDOW 0 67 44 Left 2
WINDOW 3 69 74 Left 2
SYMATTR InstName R_upper_left
SYMATTR Value R=V(Rquench)
SYMBOL res 528 384 R0
WINDOW 0 78 42 Left 2
WINDOW 3 78 76 Left 2
SYMATTR InstName R_lower_main
SYMATTR Value 0
SYMBOL res 528 656 R0
WINDOW 0 84 34 Left 2
WINDOW 3 86 74 Left 2
SYMATTR InstName R_upper_right
SYMATTR Value 0
SYMBOL res 528 928 R0
WINDOW 0 84 38 Left 2
WINDOW 3 90 68 Left 2
SYMATTR InstName R_lower_right
SYMATTR Value 0
SYMBOL FF600R12IP4 -256 -288 M90
WINDOW 0 -11 38 VLeft 2
WINDOW 3 78 129 VLeft 2
SYMATTR InstName U1
SYMBOL Digital\\srflop -208 704 R0
WINDOW 0 -47 -4 Invisible 2
WINDOW 39 -113 151 Left 2
SYMATTR InstName A4
SYMATTR SpiceLine Vhigh=0, Vlow=1, Td=0
SYMBOL res -192 -400 R0
SYMATTR InstName Rg1
SYMATTR Value 2.2
SYMBOL e -192 -416 M90
WINDOW 0 31 34 Invisible 2
WINDOW 3 36 82 Invisible 2
SYMATTR InstName E1
SYMATTR Value table(0 0, 1n 15)
TEXT -1144 -432 Left 2 !.tran 300m
TEXT -1144 -312 Left 2 !.ic I(L_upper_left)=Iop I(L_lower_left)=Iop I(L_upper_main)=Iop\n.ic I(L_lower_main)=Iop I(L_upper_right)=Iop I(L_lower_right)=Iop
TEXT -1144 -184 Left 2 !.model MYSW SW(Vt=0.9, Vh=1u, Ron=1000G, Roff=1u)
TEXT -1144 -240 Left 2 !.model Dideal D(Ron=1u, Roff=1000G, Vfwd=1)
TEXT -1144 -208 Left 2 !.model Dlim D(Ron=1u, Roff=1000G, Vfwd=0)
TEXT -696 96 VCenter 2 ;Limit output\nvoltage to 10V
TEXT 120 576 Center 2 ;Power-supply\nactuation delay
TEXT 136 912 Center 2 ;Contactor\nactuation delay
TEXT 328 304 Center 2 ;Normal-zone\nresistance growth
TEXT 152 -528 Center 2 ;Extraction switch
TEXT -560 656 Center 2 ;Validation\ntime
TEXT -784 640 Center 2 ;Imbalance\ndetection
TEXT -856 96 Center 2 ;PS turn-off\ncircuit
TEXT 128 760 Center 2 ;IGBT driver
TEXT -840 -72 Center 2 ;Current source
TEXT -1144 -392 Left 2 !.param Iop = 228
TEXT -1144 -360 Left 2 !.options reltol=0.002
RECTANGLE Normal 576 -320 512 -528 2
RECTANGLE Normal 576 -48 512 -256 2
RECTANGLE Normal 576 224 512 16 2
RECTANGLE Normal 576 496 512 288 2
RECTANGLE Normal 576 768 512 560 2
RECTANGLE Normal 576 1040 512 832 2
RECTANGLE Normal -944 480 -448 -96 2
RECTANGLE Normal 272 -560 -352 -144 2
